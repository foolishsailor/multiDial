!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MultiDial=t():e.MultiDial=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const r=n(1).default;e.exports=r},function(e,t,n){"use strict";n.r(t),t.default=function({container:e="multidial",numberDials:t=1,radius:n=40,multiDialOffset:r=1,individualDialOpts:a=[],dialX:l=50,dialY:o=50,dialComponentClass:u="dial-component",dialPathClass:i="dial-path",dialTextClass:s="dial-text",dialCurrentClass:d="dial-current",viewBox:c="0 0 100 100",defaultColor:f="#ffffff",defaultStroke:p=2,defaultInitialValue:g=0,defaultLineCap:m="round",defaultArc:h=300,defaultOrientation:y=0,defaultMaxValue:b=100,defaultMinValue:v=0,defaultColorSchedule:x=function(e){switch(!0){case e<25:return"blue";case e>=25&&e<50:return"green";case e>=50&&e<75:return"yellow";case e>=75:return"red"}},label:M=function(e){return Math.round(e)}}){const w=e=>e>=0&&e<360?e:e>359?e-360:e<0?360+e:void 0;let A=document.getElementById(e),V=[];const C=({tag:e,opts:t,nestedDials:n})=>{let r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t)r.setAttribute(a,t[a]);return n&&n.forEach((function(e){r.appendChild(e)})),r},k=(e,t)=>e*t/100,O=(e,t,n)=>e&&e.hasOwnProperty(t)?e[t]:n,S=(e,t,n,r)=>{var a=r*Math.PI/180;return{x:Math.round(1e3*(e+n*Math.cos(a)))/1e3,y:Math.round(1e3*(t+n*Math.sin(a)))/1e3}},j=(e,t,n,r)=>{var a=((e,t,n)=>{var r=l,a=o;return{end:S(r,a,e,n),start:S(r,a,e,t)}})(e,t,n),u=a.start,i=a.end,s=void 0===r?1:r;return["M",u.x,u.y,"A",e,e,0,s,1,i.x,i.y].join(" ")},P=(e,t,n)=>{let r=((e,t,n)=>{return 100*(e-t)/(n-t)})(e,n.minValue,n.maxValue),a=n.startAngle>n.endAngle?w(k(r,360-Math.abs(n.startAngle-n.endAngle))):w(k(r,Math.abs(n.startAngle-n.endAngle))),l=a<=180?0:1;t.textContent=r,n.svg.setAttribute("d",j(n.radius,n.startAngle,a+n.startAngle,l))};return(()=>{for(let e=0;e<t;e++){let t=O(a[e],"orientation",y)-90,l=O(a[e],"stroke",p),o=O(a[e],"color",f),u=O(a[e],"arc",h),c=O(a[e],"lineCap",m),M=O(a[e],"minValue",v),A=O(a[e],"maxValue",b),S=O(a[e],"colorSchedule",x),P=a.slice(0,e).map(e=>e.hasOwnProperty("stroke")?e.stroke:p).reduce((e,t)=>e+t,0),D=w(t+(360-u)/2),_=w(D+u),T=k(100,360-Math.abs(D-_)),B=D<_?T>=180?0:1:T<=180?0:1,E=n-P-r*e,I={svg:C({tag:"text",opts:{x:50,y:50,fill:"#999",class:s,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}}),currentValue:""},q={svg:C({tag:"path",opts:{class:i,fill:"none",stroke:"#666","stroke-width":2.5,d:j(E,D,D)}}),startAngle:D,endAngle:_,radius:E,type:"background Path"},F={svg:C({tag:"path",opts:{class:d,fill:"none",stroke:o,"stroke-width":l,"stroke-linecap":c,d:j(E,D,_,B)}}),startAngle:D,endAngle:_,radius:E,currentValue:g,type:"Current Value Path",minValue:M,maxValue:A,colorSchedule:S};V.push(I,q,F)}let e=C({tag:"svg",opts:{viewBox:c||"0 0 100 100",class:u},nestedDials:V.map(e=>e.svg)});A.appendChild(e)})(),{setDialValue:(e,t,n,r)=>{console.log(`Dial: ${t} - Value: ${e}`);let a=V[3*t],l=V[3*t+2],o=((e,t,n)=>{var r=Number(e);return r>n?n:r<t?t:r})(e,l.minValue,l.maxValue);f&&((e,t,n)=>{let r=O(n,"colorSchedule",x)(e),a="stroke "+1e3*t+"ms ease";n.svg.style.stroke=r,n.svg.style.transition=a})(o,r,l),n?(e=>{let t=e.duration,n=1,r=60*t,a=e.start||0,l=e.end-a,o=e.step,u=e.easing||function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};requestAnimationFrame((function e(){let t=n/r,i=l*u(t)+a;o(i,n),n+=1,t<1&&requestAnimationFrame(e)}))})({start:l.currentValue||0,end:o,duration:r||1,step:function(e,t){l.currentValue=e,P(e,a,l)}}):P(e,a,l)},returnTestString:e=>{}}}}])}));
//# sourceMappingURL=multiDial-0.0.3.min.js.map